<!---------- MODEL DOCS ---------->

{% docs accounting_credit_debit_pair %}
<event>_credit and <event>_debit pairs indicate the accounts that are credited and debited by the 
indicated event e.g. when an invoice is issued, the invoice_credit account is credited and the 
invoice_debit account is debited.
{% enddocs %}

{% docs fct_managed_deferred_revenue_waterfalls %}
This model represents the full accounting history of each revenue line item. As the possible column count could vary,
the documentation for the monthly waterfall columns follows:
- mm_dd_yyyy_revenue_recognized represents total revenue recognized for the revenue item in the given month.
- mm_dd_yyyy_invoiced represents all invoices paid for the revenue item in the given month.
- mm_dd_yyyy_deferred_revenue represents the remaining deferred revenue at the end of the given month.
- mm_dd_yyyy_remaining_performance_obligation represents the remaining revenue to be recognized as of the end of the given month.
{% enddocs %}

{% docs fct_revenue_allocations %}
In certain situations, particularly those related to specific contract terms, the revenue items generated by an order 
may require special treatment in the revenue to be recognize for each order item. 
In cases where an order only includes subscription products, the total revenue for the order is allocated based on the 
standalone sales price (SSP) of each SKU. For instance, even if the first year of a subscription is charged at $100 per 
seat and the second year at $300 a seat, the total revenue of the order is allocated evenly based on the typical cost of 
the subscriptions.
In cases where an order includes both subscription products and services, the discount offered on each order item is 
compared to the average sales price of the SKU in question. If it is significantly outside the norm, then the total
amount of the order is reallocated to individual line items using the ratio of normal standalone sales prices for each
SKU.
Examples used to design these calculations can be found [here](https://docs.google.com/spreadsheets/d/1WDh3elcUw7QDiV3zciZe0XDBi0UO-pFjGNMHplrYaHM/edit#gid=0). 
{% enddocs %}

{% docs fct_managed_revenue_items %}
This model contains all opportunity items across all customers, including: Services, Licenses, and Deployments.
{% enddocs %}

{% docs accounting_activity %}
This model takes the revenue_items model and looks at recognized revenue on a daily level. Furthermore,
it pulls in invoicing along the same timelines and performs deferred revenue calculations (see individual fields).

The Accounting team will use this to understand our current recognized revenue per day.
{% enddocs %}

{% docs fct_salesforce_revenue_schedules %}
One row per Salesforce-generated revenue schedule. Our accounting standards determine our recognition 
schedules separately from those found in this model. Instead, these records serve to 1) validate that 
recognition schedules exist for specific order items and 2) compare to the accounting flow recognition
amounts as an audit step. 
{% enddocs %}

{% docs fct_salesforce_revenue_transactions %}
One row per Salesforce-generated revenue schedule transaction. Our accounting standards determine
our recognition schedules separately from those found in this model. Instead, these records serve to
1) validate that recognition schedules exist for specific order items and 2) compare to the accounting
flow recognition amounts as an audit step. 
{% enddocs %}

{% docs fct_self_service_revenue_items %}
This model contains all invoices and credit memos sourced from Stripe through NetSuite.
{% enddocs %}

{% docs account_name_foreign %}
The human-readable identifier of the associated Salesforce account.
{% enddocs %}

{% docs accounting_end_date %}
The most recent of various relevant accounting dates (e.g invoice dates, revenue schedule dates), 
used to set the final boundary of date spining for revenue recognition history. 
{% enddocs %}

{% docs accounting_recognition_type %}
An indicator of the revenue recognition approach used in modeling the revenue schedule.
{% enddocs %}

{% docs accounting_start_date %}
The earliest of various relevant accounting dates (e.g invoice dates, revenue schedule dates), 
used to set the initial boundary of date spining for revenue recognition history. 
{% enddocs %}

{% docs applicable_month_end %}
The end of the month in which the activity occurs.
{% enddocs %}

{% docs deferred_revenue %}
The point-in-time amount of collected invoices less the revenue recognized to date. When 
positive this represents the amount of customer payment which we haven't returned in 
completed work or product value. When negative, this represents the value of work we have 
done in excess of invoices paid.
{% enddocs %}

{% docs short_term_deferred_revenue %}
The portion of remaining work or product value that is expected to be delivered (and thus 
recognized) in the next full year.
{% enddocs %}

{% docs long_term_deferred_revenue %}
The portion of remaining work or product value that is expected to be delivered (and thus 
recognized) a year or later from the day in question.
{% enddocs %}

{% docs fct_compound_journal_entries %}
One row per transaction between accounts. In strict accounting terms, a compound journal entry is an accounting entry in which 
multiple accounts may be debited and credited to represent a related series of transactions. In this model, each credit or debit
is represented on a single rows with the associated general ledger account. The credit and debit columns when summed across accounts
for a particular period, can construct a compound journal entry for that period, such as the examples shown [here](https://www.wallstreetmojo.com/compound-journal-entry/).
{% enddocs %}

{% docs fct_simple_journal_entries %}
One row per credit or debit from a particular account. In strict accounting terms, a simple journal entry is an accounting 
entry in which just one account is debited and one is credited. In this model, a given transaction is represented on two rows,
one for the debit account and one for the credit account, with an indication of the account and type of transaction for each. 
{% enddocs %}

{% docs final_true_up_amount %}
An amount added to the final day of revenue recognition to ensure the schedule results
in the total amount to be recognized.
{% enddocs %}

{% docs first_invoice_date %}
The first recorded invoice date for the order item. Note that invoice date is determined as the first
day in the finance period associated with the invoice.
{% enddocs %}

{% docs final_rollup_amount %}
The amount of revenue recognized as of any required final roll-up date, usually calculated as the 
remaining revenue per day times days remaining in the schedule as of the final roll-up date. 
{% enddocs %}

{% docs final_rollup_date %}
The date at which a given revenue schedule is accelerated to recognize all remaining scheduled revenue.
This is often the result of a later order superceding the given order. 
{% enddocs %}

{% docs final_rollup_days %}
The number of days between the final roll-up date and the original revenue recognition end date of a schedule.
Should be zero for a schedule that does not experience an early revenue roll-up (see final_rollup_amount).
{% enddocs %}

{% docs initial_catch_up_amount %}
An amount added to the first day of revenue recognition to recognize the revenue
accrued prior to the opportunity closing. 
{% enddocs %}

{% docs initial_catch_up_date %}
This is intended to be the first date of actual revenue recognition. If the sign date of the contract is after the
revenue schedule start date, the payments from the start date to the sign date are rolled up into a one-time catch-up
on the sign date. 
Because the Salesforce sign date field was made available in early 2023, this field is enriched with the opportunity close 
date to enable revenue recognition flows. Additionally, an override field is engaged via googlesheet when opportunity close 
date is an incorrect proxy.
{% enddocs %}

{% docs invoiced_amount %}
Pre-tax amount of the order item invoiced on a given day. In the case of rebilled invoices,
this represents the most recent invoiced amount. 
{% enddocs %}

{% docs invoice_running_total %}
The total amount of invoices issued for the associate item up to and including the day
represented by the row.
{% enddocs %}

{% docs is_order_item_reallocated %}
A boolean indicator to indicate whether the revenue associated with a given order item has been updated due to a change
in allocation method. This may be false for an item in an order that was otherwise reallocated, if the amount after 
reallocation is the same as the original unit price.
{% enddocs %}

{% docs is_order_reallocated %}
A boolean indicator to indicate whether the revenue associated with a given order has been updated due to a change
in allocation method. This should be consistent across all order items within an order, as reallocation happens between 
line items.
{% enddocs %}

{% docs allocated_revenue %}
The amount of the total order revenue to be allocated to the given order item.
{% enddocs %}

{% docs last_invoice_date %}
The most recent recorded invoice date for the order item. Note that invoice date is determined as the first
day in the finance period associated with the invoice.
{% enddocs %}

{% docs netsuite_transaction_identifier %}
The human-readable identifier of the NetSuite transaction.
{% enddocs %}

{% docs netsuite_transaction_line_id %}
A transaction line item identifier. Note that instead of a complex alphanumeric, this appears to be ordinal 
numbers (e.g. the first item has transaction_line_id of 1).
{% enddocs %}

{% docs opportunity_close_date %}
The date at which the Salesforce opportunity is closed. This is relevant to revenue 
recognition schedules in addition to revenue targets. 
{% enddocs %}

{% docs opportunity_name_foreign %}
The human-readable identifier of the associated Salesforce opportunity.
{% enddocs %}

{% docs opportunity_type %}
An indicator of the business movement represented by the opportunity (e.g. Renew, Land, Expand).
{% enddocs %}

{% docs order_revenue_allocation_method %}
A descriptor of the revenue allocation treatment applied to the given line item. "unit_price" indicates
that the item's revenue is directly taken from the unit price in the quote. "timing_allocation" indicates
that a subscription order with variable pricing by period has been standardized across the entire period of
service. "ssp_allocation" indicates that one or more items within an order was discounted outside of what is
considered the normal standalone sales price (SSP) range and the total order revenue must be allocated using
typical SSP.
{% enddocs %}

{% docs ignore_revenue_reallocation %}
A boolean indicator of whether the calculated revenue allocation of an order should be ignored.
See fct_revenue_allocations. 
{% enddocs %}

{% docs rapid_onboarding_end_date %}
The date on which a rapid onboarding completes, allowing the revenue from that work
to be recognized.
{% enddocs %}

{% docs recognized_amount %}
Amount of revenue recognized on a given day. Conceptually, this represents the amount of
value considered to be delivered on that day. In most cases, this is calculated as the
total recognition amount divided by the total number of days in the recognition schedule.
In some cases, however, the number could be a final balancing item to ensure the full 
revenue amount is recognized. Alternatively, this could be a manual override to represent 
specific business cases.
{% enddocs %}

{% docs gross_remaining_performance_obligation %}
Also known as RPO, this represents the financial amount of product delivery still 
considered to be due in the future as of the given date, prior to any overrides.
{% enddocs %}

{% docs net_remaining_performance_obligation %}
Also known as RPO, this represents the financial amount of product delivery still 
considered to be due in the future as of the given date, reflecting any overrides.
{% enddocs %}

{% docs rpo_bucket %}
A reporting group used for final month-end reporting artifacts, specifically for 
Remaining Performance Obligation (RPO). 
{% enddocs %}

{% docs revenue_bucket %}
A reporting group used for final month-end reporting artifacts, specifically for 
Revenue Recognition summaries. 
{% enddocs %}

{% docs is_product_excluded_from_revenue_waterfalls %}
A boolean indicating whether a particular revenue item should be excluded from revenue calculations, including recognized
revenue, deferred revenue, and remaining performance obligation (RPO). This includes line items such as sponsorships for 
Coalesce and other events. 
{% enddocs %}

{% docs current_applicable_rpo_overrides %}
A count of Remaining Performance Obligation (RPO) overrides for the google sheet that correspond to a given date on a date 
spine. 
{% enddocs %}

{% docs rpo_override_error_message %}
A description of any errors with Remaining Performance Obligation (RPO) overrides. Because we go on to qualify to a 
single override per day per order item, this allows us to identify a potential issue at the input step. 
{% enddocs %}

{% docs is_rpo_adjusted %}
A boolean indicating whether a given Remaining Performance Obligation (RPO) should be adjusted via overrides at the given date.
{% enddocs %}

{% docs rpo_adjustment %}
The amount by which a given Remaining Performance Obligation (RPO) should be adjusted via overrides at the given date.
{% enddocs %}

{% docs is_rpo_override_error %}
A boolean indicating whether a given Remaining Performance Obligation (RPO) override triggered an error. 
{% enddocs %}

{% docs rpo_override_flat_amount %}
A flat amount by which the Remaining Performance Obligation (RPO) is adjusted.
{% enddocs %}

{% docs rpo_override_start_date %}
The date at which an Remaining Performance Obligation (RPO) override begins to apply. This allows for the override to be 
turned on and then off appropriately.
{% enddocs %}

{% docs rpo_override_end_date %}
The date at which an Remaining Performance Obligation (RPO) override no longer applies. This allows for the override to be 
turned on and then off appropriately.
{% enddocs %}

{% docs rpo_override_type %}
An indicator of the methodology by which the Remaining Performance Obligation (RPO) override is applied:
- (full) exclusion: the item should NEVER be factored into RPO
- entire amount: as long as the override is in place, the entire amount of RPO should be reduced to zero (this allows the offset to change with the calculated RPO amount)
- flat amount: this reduces the RPO for a flat amount, usually reflecting a particular carve-out for services.
{% enddocs %}

{% docs revenue_end_date %}
The final day of revenue recognition.
{% enddocs %}

{% docs revenue_item_id %}
The unique identifier linking a revenue item and its recognition schedule.
{% enddocs %}

{% docs revenue_per_day %}
The amount of overall revenue recognized on a particular day if the recognition 
schedule is uniform over the recognition period. This represents the amount of
work considered to be delivered per day, under the assumption that a particular
line item is delivered rateably over the line item's revenue period. 
{% enddocs %}

{% docs revenue_recognition_running_total %}
The total amount of revenue recognized for the associate item up to and including the day
represented by the row. This represents the value of our work and product that is considered 
to be delivered through this point in time. 
{% enddocs %}

{% docs revenue_start_date %}
The first day of revenue recognition.
{% enddocs %}

{% docs services_delivered_date %}
The date on which professional services are delivered to a customer, allowing 
the revenue from that work to be recognized.
{% enddocs %}

{% docs total_order_product_amount_raw %}
The total amount charged for the order item as originally listed in the order. This preserves any unit price
in cases where the revenue amount to be recognized is overridden due to revenue reallocations. 
{% enddocs %}

{% docs total_order_product_amount_reflecting_overrides %}
The total amount of revenue to be recognized for the order item. This may differ from the Total Revenue Amount if revenue
has been reallocated (see `fct_revenue_allocations`). 
{% enddocs %}

{% docs total_revenue_amount %}
The total amount of revenue to be recognized over the entire revenue schedule. This may reflect any reallocation
as calculated in `fct_revenue_allocations`. See `is_reallocated` for more details.
{% enddocs %}

{% docs total_revenue_schedule_days %}
The total number of days over where an order item will be recognized. 
{% enddocs %}

{% docs self_service_legacy_fields %}
Fields with the legacy_ prefix reflect a prior approach that we will maintain in order to capture the impact of
current approach vs legacy. 
{% enddocs %}
