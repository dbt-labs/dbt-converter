version: 2

models:

  - name: int__cloud_subscriptions_amortized
    description: "An intermediate model which takes all Cloud subscriptions, fixes the contract start/end dates, and date spines to look at them on a daily-level."
    columns:
      - name: id
        tests:
          - unique
          - not_null

  - name: int__cloud_subscriptions_changes
    description: "An intermediate model that adds logic to account for changes in ARR (e.g. churn, reactivation, upgrade, downgrade, etc)."
    columns:
      - name: id
        tests:
          - unique
          - not_null

  - name: int__cloud_subscriptions_daily_churned
    description: "An intermediate model that adds an empty row to account for the day when a customers churns."
    columns:
      - name: id
        tests:
          - unique
          - not_null

  - name: int__cloud_subscriptions_daily_unioned
    description: "An intermediate model that combines int__cloud_subscriptions_daily and int__cloud_subscriptions_daily_churned."
    columns:
      - name: id
        tests:
          - unique
          - not_null

  - name: int__cloud_subscriptions_daily
    description: "Takes the `int__cloud_subscriptions_amortized` model and aggregates all transactions to a single day per customer per sales motion and brings in Revenue Run Rate (R3)."
    columns:
      - name: id
        tests:
          - unique
          - not_null