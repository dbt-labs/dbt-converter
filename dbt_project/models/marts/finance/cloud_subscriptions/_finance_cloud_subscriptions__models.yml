version: 2

models:
  - name: fct_cloud_subscription_transactions
    description: '{{ doc("fct_cloud_subscription_transactions") }}'
    columns:
      - name: id
        tests:
          - unique
          - not_null
      - name: sales_motion
        description: '{{ doc("sales_motion") }}'
      - name: sales_channel
        description: '{{ doc("sales_channel") }}'
      - name: transaction_description
        description: '{{ doc("transaction_description") }}'
      - name: is_customer_active
        description: '{{ doc("is_customer_active") }}'
      - name: is_customer_first_day
        description: '{{ doc("is_customer_first_day") }}'
      - name: is_upgrade
        description: '{{ doc("is_upgrade") }}'
      - name: is_paid_invoice
        description: '{{ doc("is_paid_invoice") }}'
      - name: is_first_day_of_month
        description: '{{ doc("is_first_day_of_month") }}'
      - name: is_last_day_of_month
        description: '{{ doc("is_last_day_of_month") }}'
      - name: is_first_day_of_quarter
        description: '{{ doc("is_first_day_of_quarter") }}'
      - name: is_last_day_of_quarter
        description: '{{ doc("is_last_day_of_quarter") }}'
      - name: finance_invoice_date
        description: '{{ doc("finance_invoice_date") }}'
      - name: contract_start_date
        description: '{{ doc("contract_start_date") }}'
      - name: contract_end_date
        description: '{{ doc("contract_end_date") }}'
      - name: usage_start_date
        description: '{{ doc("usage_start_date") }}'
      - name: usage_end_date
        description: '{{ doc("usage_end_date") }}'
      - name: usage_period_in_months
        description: '{{ doc("usage_period_in_months") }}'
      - name: customer_day
        description: '{{ doc("customer_day") }}'
      - name: customer_starting_arr
        description: '{{ doc("customer_starting_arr") }}'
      - name: revenue_run_rate
        description: '{{ doc("revenue_run_rate") }}'
        tests:
          - not_null
      - name: arr
        description: '{{ doc("arr") }}'
        tests:
          - not_null
      - name: arr_prior
        description: '{{ doc("arr_prior") }}'
      - name: arr_renewal
        description: '{{ doc("arr_renewal") }}'
      - name: arr_change
        description: '{{ doc("arr_change") }}'
      - name: is_enterprise_upgrade
        description: '{{ doc("is_enterprise_upgrade") }}'
      - name: change_category
        description: '{{ doc("change_category") }}'
      - name: churn_type
        description: '{{ doc("churn_type") }}'
      - name: churn_details
        description: '{{ doc("churn_details") }}'

  - name: fct_cloud_transactions
    description: '{{ doc("fct_cloud_transactions") }}'
    columns:
      - name: transaction_id
        description: >
          The unique identifier for a given transaction. For Self-Service,
          this is the stripe invoice_id. For Managed accounts, this is
          the salesforce opportunity_id
        tests:
          - unique
          - not_null
      - name: contract_start_date
        description: '{{ doc("contract_start_date") }}'
      - name: contract_end_date
        description: '{{ doc("contract_end_date") }}'
      - name: invoice_date
        description: '{{ doc("finance_invoice_date") }}'
      - name: transaction_description
        description: '{{ doc("transaction_description") }}'
      - name: usage_period_in_months
        description: '{{ doc("usage_period_in_months") }}'
      - name: usage_start_date
        description: '{{ doc("usage_start_date") }}'
      - name: usage_end_date
        description: '{{ doc("usage_end_date") }}'
      - name: is_upgrade
        description: '{{ doc("is_upgrade") }}'
      - name: is_paid_invoice
        description: '{{ doc("is_paid_invoice") }}'
      - name: revenue_run_rate
        description: '{{ doc("revenue_run_rate") }}'
      - name: arr
        description: '{{ doc("arr") }}'