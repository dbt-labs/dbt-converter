version: 2

metrics:
  - name: customers_churned
    label: Churned Customers (Logos)
    model: ref('dim_customers')
    description: >
      The total number of churned (recognized cancels, or downgrades
       to free developer plan) customers (logos) during a given time period.
    tags: []

    calculation_method: count
    expression: customer_id

    filters:
      - field: is_current
        operator: "!="
        value: "1"

    timestamp: customer_end
    time_grains: [day, week, month, quarter, year]

    dimensions:
      - sales_motion
      - geo_region
      - geo_country
      - geo_state
      - account_region
      - account_subregion
      - market_segment
      - deployment_type

    meta:
      metric_level: 'Company'
      owner(s): 'Andrew Tom'
      