version: 2

metrics:
  - name: arr_s2m
    label: Sales to Managed (S2M) ARR
    model: ref('fct_cloud_subscription_transactions')
    description: >
      The ARR (Annual Recurring Revenue) that moves from the
      self-service channel to managed accounts (SFDC) channel
      over a given time period.
    tags: []

    calculation_method: sum
    expression: arr

    filters:
      - field: change_category
        operator: "="
        value: "'S2M'"

    timestamp: date_day
    time_grains: [day, week, month, quarter, year, all_time]
    
    dimensions:
      - change_category
      - sales_motion

    meta:
      metric_level: 'Company'
      owner(s): 'Andrew Tom'