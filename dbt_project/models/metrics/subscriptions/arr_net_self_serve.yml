version: 2

metrics:
  - name: arr_net_self_serve
    label: Self-Serve Net ARR
    description: >
      The sum of Gross (Land + Expand + Reactivated) 
      less Churn (Cancelled + Downsell + ARR moved from Self-Serve to Managed) 
      ARR (Annual Recurring Revenue) for Self-Serve customers over a given time period.

    calculation_method: derived
    expression: "{{metric('arr_gross_self_serve')}} + {{metric('arr_churn_self_serve')}}"

    dimensions:
      - fiscal_quarter
      - fiscal_year

    timestamp: close_month
    time_grains: [month, quarter, year, all_time]

    meta:
      metric_level: 'Company'
      owner(s): 'Paige Berry'
      