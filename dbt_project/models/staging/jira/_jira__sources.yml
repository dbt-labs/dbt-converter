version: 2

sources:
  - name: jira
    database: raw
    schema: fivetran_jira
    description: '{{ doc("src_jira") }}'

    loader: fivetran
    loaded_at_field: _fivetran_synced

    meta:
      team: ['Product']
      owner_name: Andrew Escay

    freshness:
      warn_after: {count: 24, period: hour}
      error_after: {count: 48, period: hour}

    tables:
      - name: board
      - name: epic
      - name: field_option
        freshness:
          warn_after: {count: 48, period: hour}
          error_after: {count: 7, period: day} # accounting for holidays
      - name: field
      - name: issue_board
      - name: issue_field_history
      - name: issue_multiselect_history
      - name: issue_link
        freshness:
          warn_after: {count: 48, period: hour}
          error_after: {count: 7, period: day} # accounting for holidays
      - name: issue_type
      - name: issue
      - name: priority
      - name: project
      - name: project_board
      - name: resolution
        freshness:
          warn_after: {count: 48, period: hour}
          error_after: {count: 7, period: day} # accounting for holidays
      - name: sprint
      - name: status_category
      - name: status
      - name: user_group
      - name: user