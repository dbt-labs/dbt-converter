version: 2

models:

  - name: stg_youtube__channels
    description: '{{ doc("stg_youtube__channels") }}'
    columns:
      - name: id
        tests:
          - unique
          - not_null
      - name: etag
        description: '{{ doc("etag") }}'
      - name: count_subscribers
        description: The lifetime total number of subscribers on a channel
      - name: count_videos
        description: The lifetime total number of videos on a channel
      - name: count_views
        description: The lifetime total number of views on a channel

  - name: stg_youtube__activity
    description: '{{ doc("stg_youtube__activity") }}'
    columns:
      - name: id
        description: >
          This is a hashed ID compromised of the date_day, channel_id,
          video_id, country_code, subscribed_status, and live_or_on_demand
          fields.
        tests:
          - unique
          - not_null
      - name: viewer_country_code
        description: '{{ doc("viewer_country_code") }}'
      - name: live_or_on_demand
        description: '{{ doc("live_or_on_demand") }}'
      - name: subscribed_status
        description: '{{ doc("subscribed_status") }}'

  - name: stg_youtube__videos
    description: '{{ doc("stg_youtube__videos") }}'
    columns:
      - name: id
        tests:
          - unique
          - not_null
      - name: etag
        description: '{{ doc("etag") }}'
      - name: count_comments
        description: The lifetime total number of comments on a video
      - name: count_favorites
        description: The lifetime total number of favorites on a video
      - name: count_likes
        description: The lifetime total number of likes on a video
      - name: count_views
        description: The lifetime total number of views on a video