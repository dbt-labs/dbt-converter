version: 2

sources:
  - name: stitch_youtube
    database: raw
    schema: youtube_analytics
    description: '{{ doc("src_youtube") }}'

    loader: stitch
    loaded_at_field: _sdc_batched_at

    freshness:
      warn_after: {count: 24, period: hour}
      error_after: {count: 48, period: hour}

    meta:
      team: ['Marketing','Community']
      owner_name: Brandon Thomson

    tables:
      - name: channels
      - name: videos

  - name: fivetran_youtube
    database: raw
    schema: fivetran_youtube
    description: '{{ doc("src_youtube") }}'

    loader: fivetran
    loaded_at_field: _fivetran_synced

    freshness:
      warn_after: {count: 24, period: hour}
      error_after: {count: 48, period: hour}

    meta:
      team: ['Marketing','Community']
      owner_name: Brandon Thomson

    tables:
      - name: metrics
        identifier: channel_basic


