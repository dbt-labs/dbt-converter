version: 2

models:
  - name: stg_linkedin_ads__creative_history_override
    description: >
      Each record represents a 'version' of a creative.
      This model purposefully overrides the `stg_linkedin_ads__creative_history` from the LinkedIn Ads Source package, to provide fields that we require downstream.
    columns:
      - name: creative_id
        description: Unique internal ID representing the creative.
        tests:
          - not_null

      - name: last_modified_at
        description: The timestamp of when the version was updated.

      - name: created_at
        description: The timestamp of when the creative was created.

      - name: campaign_id
        description: The ID of the campaign the creative belongs to.

      - name: share_id
        description: >
          The ID of the share the creative is associated with.
          This is required to bring in the landing page URL of that share into the ad model.

      - name: status
        description: '{{ doc("linkedin_ads_status") }}'

      - name: click_uri
        description: '{{ doc("linkedin_ads_click_uri") }}'

      - name: base_url
        description: The base URL of the ad, extracted from the `click_uri`.

      - name: url_host
        description: The URL host of the ad, extracted from the `click_uri`.

      - name: url_path
        description: The URL path of the ad, extracted from the `click_uri`.

      - name: utm_source
        description: The utm_source parameter of the ad, extracted from the `click_uri`.

      - name: utm_medium
        description: The utm_medium parameter of the ad, extracted from the `click_uri`.

      - name: utm_campaign
        description: The utm_campaign parameter of the ad, extracted from the `click_uri`.

      - name: utm_content
        description: The utm_content parameter of the ad, extracted from the `click_uri`.

      - name: utm_term
        description: The utm_term parameter of the ad, extracted from the `click_uri`.

      - name: is_latest_version
        description: Boolean of whether the record is the latest version of the cretive.
          