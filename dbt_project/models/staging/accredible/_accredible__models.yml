version: 2

models:
  - name: stg_accredible__credentials
    description: Staging model for the credentials table from the Accredible source. One record represents one credential issued to a developer. 
    columns:
      - name: credential_id
        description: unique identifier and primary key on this model
        tests:
          - unique
          - not_null
      - name: credential_exam_id
        description: >
          Surrogate key from the user email and the credential number, limited to dbt Developer credentials. 
          This allows us to match each dbt Developer with each passed test
          The need for the rank function is futureproofing for when credentials expire and users renew with a new exam


  - name: stg_accredible__groups
    description: Staging model for the groups table from the Accredible source. One record represents one type of credential offered from dbt Labs via Accredible.
    columns:
      - name: group_id
        description: unique identifier and primary key on this model
        tests:
          - unique
          - not_null