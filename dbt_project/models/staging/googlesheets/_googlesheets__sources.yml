version: 2

sources:
  - name: googlesheets
    database: raw
    schema: google_sheets
    description: '{{ doc("src_googlesheets") }}'
    loader: fivetran
    loaded_at_field: _fivetran_synced

    meta:
      team: ['Community', 'Customer Success', 'Engineering', 'Marketing', 'Product', 'Revenue', 'Sales']
      owner_name: Elize Papineau

    tables:
      - name: employee_locations
      - name: revenue_allocation_overrides
      - name: revenue_invoice_overrides
      - name: revenue_rpo_overrides
      - name: revenue_schedule_overrides
      - name: revenue_transaction_overrides
      - name: self_service_transaction_line_overrides
      
  - name: fivetran_googlesheets
    database: raw
    schema: fivetran_googlesheets
    description: '{{ doc("src_googlesheets") }}'
    loader: fivetran
    loaded_at_field: _fivetran_synced
    meta:
      team: ['Community', 'Customer Success', 'Engineering', 'Marketing', 'Product', 'Revenue', 'Sales']
      owner_name: Elize Papineau

    tables:
      - name: global_training_nps
      - name: global_training_feedback
      - name: historical_dbt_project_registration
      - name: incidentio_incidents
      - name: rate_ro_calculated_scores
      - name: rate_ro_raw_responses
      - name: singletenant_ips
      - name: training_private_learners
      - name: website_content_tags
      - name: pro_serv_feature_enablement_sessions
      - name: ps_staff_engagement_survey
      - name: proserv_team_technical_skills
      - name: proserv_utilization_targets
      - name: customer_health_score_overall_weights
      - name: customer_health_score_category_weights
      - name: customer_health_score_buckets
      - name: finance_lever_requisition_codes
      - name: sfdc_account_to_cloud_mappings
      - name: diversity_form_value_mappings_eeo
      - name: diversity_form_value_mappings_dei
      - name: global_compensation_bands
      - name: sales_attributes
      - name: technical_classification_by_adp_department_code

  - name: fivetran_google_sheets_finance
    database: raw
    schema: fivetran_google_sheets_finance
    description: Google Sheets sensitive data, related to finance purposes
    loader: fivetran
    loaded_at_field: _fivetran_synced
    meta:
      team: ['Finance']
      owner_name: Kenan Glasgold
      create_masked_views: true

    tables:
      - name: terminated_employees
        description: A list of all past and future known employee terminations
        columns:
          - name: associate_oid
            meta:
              masking_policy: finance_string
          - name: worker_id
            meta:
              masking_policy: finance_string
          - name: last_day_worked 
            meta:
              masking_policy: finance_date
          - name: termination_date  
            meta:
              masking_policy: finance_date  
          - name: given_name 
            meta:
              masking_policy: finance_string  
          - name: formatted_name 
            meta:
              masking_policy: finance_string
          - name: family_name
            meta:
              masking_policy: finance_string  
          - name: primary_work_assignment_id
            meta:
              masking_policy: finance_string  
          - name: job_id 
            meta:
              masking_policy: finance_string  
      - name: finance_employee_transfers
        description: Known forecasted employee transfers between cost centers and Job IDs
        columns:
          - name: employee_name
            meta:
              masking_policy: finance_string
          - name: transfer_salary   
            meta:
              masking_policy: finance_string

  - name: fivetran_google_sheets_dei
    database: raw
    schema: fivetran_google_sheets_dei
    description: Fivetran google sheet connector destination for DEI-related tables.
    loader: fivetran
    loaded_at_field: _fivetran_synced
    meta:
      team: ['People Ops']
      owner_name: Elize Papineau
      create_masked_views: true

    tables:
      - name: diversity_form_responses
        description: The results of the ongoing DEI identification form for dbt Labs employees.
        columns:
          - name: email_address
            meta:
              masking_policy: dei_string
          - name: timestamp
            description: Varchar-type column with form submission dates.
            meta:
              masking_policy: dei_string
