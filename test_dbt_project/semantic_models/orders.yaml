semantic_models:
  - name: orders
    description: This table has basic information about orders, as well as some derived
      facts based on payments
    measures:
      - name: revenue
        agg: sum
        expr: amount
        agg_time_dimension: order_date
      - name: expenses
        agg: sum
        expr: amount / 4
        agg_time_dimension: order_date
      - name: average_order_amount
        agg: average
        expr: amount
        agg_time_dimension: order_date
    dimensions:
      - name: order_date
        type: time
        type_params:
          time_granularity: day
      - name: status
        type: categorical
      - name: had_credit_card_payment
        type: categorical
      - name: had_coupon_payment
        type: categorical
      - name: had_gift_card_payment
        type: categorical
      - name: had_bank_transfer_payment
        type: categorical
      - name: customer_status
        type: categorical
    model: ref('orders')
